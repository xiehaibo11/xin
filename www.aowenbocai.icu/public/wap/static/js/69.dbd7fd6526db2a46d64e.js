webpackJsonp([69],{EIwy:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),o=s.n(i),n={name:"",components:{GetSms:s("fviT").a},data:function(){return{tel:"",yzm:"",loading:!1,options:{yzm:"",num:""},remember:!1}},computed:{title:function(){return this.$route.meta.title},loginWay:function(){return this.$store.state.setting.login_way},logo:function(){return this.$store.state.setting.logo_url},is_reg:function(){return this.$store.state.setting.is_reg}},methods:{back:function(){this.$router.isBack=!0,this.$router.replace({path:"/login",query:{redirect:this.$route.query.redirect}})},toReg:function(){this.$router.push({path:"/reg",query:{redirect:this.$route.query.redirect}})},sumbit:function(){var t=this;this.options.num?this.options.yzm?(this.loading=!0,this.$axios.post("/index/login/login",{tel:this.options.num,yzm:this.options.yzm,remember:this.remember?1:0}).then(function(e){var s=e.data;if(s.err)t.$toast({message:s.msg,duration:1e3});else{if(t.$store.dispatch("getUserInfo"),t.$store.dispatch("getLockInfo"),t.$store.dispatch("getTrueInfo"),t.$store.dispatch("getSignInfo"),t.$store.dispatch("getSystemMsg"),t.$store.dispatch("getRechargeList"),t.remember){var i=t.$base.getCookie("has_login"),n={timeTemp:(new Date).getTime(),token:i};localStorage.setItem("loginToken",o()(n))}setTimeout(function(){var e=t.$route.query.redirect;e?t.$router.push({path:e}):t.$router.push({path:"/"})},1e3),t.$toast({message:"登录成功",iconClass:"iconfont icon-gou-copy",duration:1e3})}t.loading=!1}).catch(function(t){console.log(t)})):this.$toast("验证码不能为空"):this.$toast("手机号不能为空")}},created:function(){}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"form"},[s("div",{staticClass:"tc"},[s("span",{staticClass:"way-icon"},[s("i",{staticClass:"iconfont icon-shouji",attrs:{slot:"icon"},slot:"icon"})])]),t._v(" "),s("div",[s("get-sms",{attrs:{"get-way":1,url:"/index/login/sendsms"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sumbit(e)}},model:{value:t.options,callback:function(e){t.options=e},expression:"options"}})],1),t._v(" "),s("div",{staticClass:"btn-box"},[s("mt-button",{attrs:{type:"danger",size:"large"},nativeOn:{click:function(e){return t.sumbit(e)}}},[t.loading?s("mt-spinner",{staticClass:"btn-loading",attrs:{slot:"icon",type:3,size:15,color:"#fff"},slot:"icon"}):t._e(),t._v("\n                登 录\n            ")],1),t._v(" "),s("div",{staticStyle:{"margin-top":"5px"}},[s("div",{staticClass:"f-sm flex-box c-2",on:{click:function(e){t.remember=!t.remember}}},[s("span",{staticClass:"input-checkbox",class:{"checkbox-checked":t.remember}}),t._v("记住密码,一周内免登陆")])])],1)])])},staticRenderFns:[]};var a=s("VU/8")(n,r,!1,function(t){s("oZsE")},"data-v-52d469b9",null);e.default=a.exports},oZsE:function(t,e){}});