webpackJsonp([97],{ZN65:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n={name:"",data:function(){return{sheetVisible:!1,actions:[{name:"确定退出？",method:this.loginOut}]}},computed:{userInfo:function(){return this.$store.state.userinfo},lockInfo:function(){return this.$store.state.lockInfo},trueState:function(){return 0!=this.$store.state.lockInfo.is_num},trueInfo:function(){return this.$store.state.trueInfo},qq_checked:function(){return this.$store.state.setting.qq_checked},wxsm_checked:function(){return this.$store.state.setting.wxsm_checked},lockTel:function(){return 1!==this.$store.state.lockInfo.tel},lockEmail:function(){return 1!==this.$store.state.lockInfo.email},isYzm:function(){return!!Number(this.$store.state.setting.tel_checked)},isEmail:function(){return!!Number(this.$store.state.setting.email_checked)},bind_idcard:function(){return!!Number(this.$store.state.setting.bind_idcard)}},methods:{loginOut:function(){var t=this;this.$axios.get("/web/login/logout").then(function(s){s.err?t.$messagebox("提示",s.msg):(t.$router.goBack(-1),t.$store.commit("clearUserInfo"),localStorage.removeItem("loginToken"))})},isTrue:function(){var t=this;this.bind_idcard?0!==this.lockInfo.is_num?this.$router.push({path:"/lockCard"}):this.$messagebox.confirm("您还未进行实名认证，立即去认证?").then(function(){t.$router.push({path:"/realName"})}).catch(function(t){}):0!==this.lockInfo.is_name?this.$router.push({path:"/lockCard"}):this.$messagebox.confirm("您还未完善个人资料，立即去完善?").then(function(){t.$router.push({path:"/setInfo"})}).catch(function(t){})},changeTel:function(){var t=this;this.isYzm||!this.isEmail||this.lockEmail?this.$router.push({path:"/changeTel"}):this.$messagebox.confirm("您还未绑定邮箱，立即去绑定?").then(function(){t.$router.push({path:"/setEmail"})}).catch(function(t){})},changeEmail:function(){var t=this;!this.isYzm||this.isEmail||this.lockTel?this.$router.push({path:"/changeEmail"}):this.$messagebox.confirm("您还未绑定手机，立即去绑定?").then(function(){t.$router.push({path:"/setTel"})}).catch(function(t){})},bindQq:function(){window.location.href="/index/Qqlogin/toLogin?type=1"},bindWeixin:function(){this.$messagebox("提示","请前往电脑端进行绑定！")},unlockQW:function(t){var s,i=this;1==t&&(s="QQ"),2==t&&(s="微信"),this.$messagebox.confirm("此操作将解除已绑定"+s+", 是否继续?").then(function(){i.$axios.post("/web/user/unlockQW",{way:t}).then(function(t){var s=t.data;s.err||i.$store.dispath("getLockInfo"),i.$toast(s.msg)})}).catch(function(t){console.log(t)})}},created:function(){this.$store.dispatch("getBanks"),this.$store.dispatch("getAlipay")}},o={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"setting"},[i("div",{staticClass:"cell"},[i("p",{staticClass:"mt-sm"},[i("mt-cell",{staticClass:"photo",attrs:{title:"头像","is-link":"",to:"/setPhoto"}},[i("i",{staticClass:"iconfont icon-profile",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),t.userInfo.photo?i("span",{staticClass:"pic",style:{backgroundImage:"url("+t.userInfo.photo+")"}}):t._e()]),t._v(" "),i("mt-cell",{attrs:{title:"个人资料","is-link":"",to:"/setInfo"}},[i("i",{staticClass:"iconfont icon-gerenziliao",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),i("mt-cell",{attrs:{title:"等级头衔","is-link":"",to:"/personalLevel"}},[i("i",{staticClass:"iconfont icon-dengji",attrs:{slot:"icon"},slot:"icon"})])],1),t._v(" "),i("p",{staticClass:"mt-sm"},[i("mt-cell",{attrs:{title:"登录密码","is-link":"",to:1!==t.lockInfo.username?"/changePwd":"/setPwd"}},[i("i",{staticClass:"iconfont icon-mima2",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),1!==t.lockInfo.username?i("span",{class:{binded:1!==t.lockInfo.username}},[t._v("已设置")]):i("span",{staticClass:"org"},[t._v("未绑定用户名")])]),t._v(" "),i("mt-cell",{attrs:{title:"安全密码","is-link":"",to:1!==t.lockInfo.safe_password?"/changeSafePwd":"/setSafePwd"}},[i("i",{staticClass:"iconfont icon-ai-safe",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),1!==t.lockInfo.username?i("span",{class:{binded:1!==t.lockInfo.username}},[t._v("已设置")]):i("span",{staticClass:"org"},[t._v("未设置")])]),t._v(" "),1==t.lockInfo.tel?i("mt-cell",{attrs:{title:"手机管理","is-link":"",to:"/setTel"}},[i("i",{staticClass:"iconfont icon-shouji",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),i("span",{staticClass:"org"},[t._v("未绑定")])]):i("mt-cell",{attrs:{title:"手机管理","is-link":""},nativeOn:{click:function(s){return t.changeTel(s)}}},[i("i",{staticClass:"iconfont icon-shouji",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),i("span",{staticClass:"binded"},[t._v(t._s(t.lockInfo.tel))])]),t._v(" "),1==t.lockInfo.email?i("mt-cell",{attrs:{title:"邮箱管理","is-link":"",to:"/setEmail"}},[i("i",{staticClass:"iconfont icon-mail",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),i("span",{staticClass:"org"},[t._v("未绑定")])]):i("mt-cell",{attrs:{title:"邮箱管理","is-link":""},nativeOn:{click:function(s){return t.changeEmail(s)}}},[i("i",{staticClass:"iconfont icon-mail",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),i("span",{staticClass:"binded"},[t._v(t._s(t.lockInfo.email))])]),t._v(" "),1==t.qq_checked?[1==t.lockInfo.qq?[i("mt-cell",{attrs:{title:"绑定QQ","is-link":""},nativeOn:{click:function(s){return t.bindQq(s)}}},[i("i",{staticClass:"iconfont icon-QQ",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),i("span",{staticClass:"org"},[t._v("未绑定")])])]:[i("mt-cell",{attrs:{title:"绑定QQ","is-link":""},nativeOn:{click:function(s){return t.unlockQW(1)}}},[i("i",{staticClass:"iconfont icon-QQ",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),i("span",{staticClass:"binded"},[t._v("已绑定 "),i("a",{staticClass:"link"},[t._v("解绑")])])])]]:t._e(),t._v(" "),1==t.wxsm_checked?[1==t.lockInfo.wei?[i("mt-cell",{attrs:{title:"绑定微信","is-link":""},nativeOn:{click:function(s){return t.bindWeixin(s)}}},[i("i",{staticClass:"iconfont icon-weixin1",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),i("span",{staticClass:"org"},[t._v("未绑定")])])]:[i("mt-cell",{attrs:{title:"绑定微信","is-link":""},nativeOn:{click:function(s){return t.unlockQW(2)}}},[i("i",{staticClass:"iconfont icon-weixin1",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),i("span",{staticClass:"binded"},[t._v("已绑定 "),i("a",{staticClass:"link"},[t._v("解绑")])])])]]:t._e()],2),t._v(" "),i("p",{staticClass:"mt-sm"},[t.bind_idcard?i("mt-cell",{attrs:{title:"实名认证","is-link":"",to:"/realName"}},[i("i",{staticClass:"iconfont icon-ai-ca",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),t.trueState?i("span",{class:{binded:t.trueState}},[t._v(t._s(t.lockInfo.is_name))]):i("span",{staticClass:"org"},[t._v("未认证")])]):t._e(),t._v(" "),i("mt-cell",{attrs:{title:"绑定账号","is-link":""},nativeOn:{click:function(s){return t.isTrue(s)}}},[i("i",{staticClass:"iconfont icon-bangding",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),i("span",[t._v("银行卡/支付宝")])])],1),t._v(" "),i("div",{staticClass:"btn-box"},[i("mt-button",{attrs:{type:"danger",size:"large"},nativeOn:{click:function(s){t.sheetVisible=!0}}},[t._v("\n                退出登录\n            ")])],1)]),t._v(" "),i("mt-actionsheet",{attrs:{actions:t.actions},model:{value:t.sheetVisible,callback:function(s){t.sheetVisible=s},expression:"sheetVisible"}})],1)},staticRenderFns:[]};var e=i("VU/8")(n,o,!1,function(t){i("sq44")},"data-v-0863bf08",null);s.default=e.exports},sq44:function(t,s){}});