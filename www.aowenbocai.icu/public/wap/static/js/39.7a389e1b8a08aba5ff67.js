webpackJsonp([39],{YcrI:function(t,e){},gUbO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("mvHQ"),r=s.n(n),i={name:"",data:function(){return{username:"",password:"",loading:!1,remember:!1}},computed:{title:function(){return this.$route.meta.title},loginWay:function(){return this.$store.state.setting.login_way},logo:function(){return this.$store.state.setting.logo_url},is_reg:function(){return this.$store.state.setting.is_reg}},methods:{back:function(){this.$router.isBack=!0,this.$router.replace({path:"/login",query:{redirect:this.$route.query.redirect}})},toReg:function(){this.$router.push({path:"/reg",query:{redirect:this.$route.query.redirect}})},sumbit:function(){var t=this;this.username?this.password?(this.loading=!0,this.$axios.post("/index/login/loginbyname",{username:this.username,password:this.password,remember:this.remember?1:0}).then(function(e){var s=e.data;if(s.err)t.$toast({message:s.msg,duration:1e3});else{if(t.$store.dispatch("getUserInfo"),t.$store.dispatch("getLockInfo"),t.$store.dispatch("getTrueInfo"),t.$store.dispatch("getSignInfo"),t.$store.dispatch("getSystemMsg"),t.$store.dispatch("getRechargeList"),t.remember){var n=t.$base.getCookie("has_login"),i={timeTemp:(new Date).getTime(),token:n};localStorage.setItem("loginToken",r()(i))}setTimeout(function(){var e=t.$route.query.redirect;e?t.$router.replace({path:e}):t.$router.replace({path:"/"})},1e3),t.$toast({message:"登录成功",iconClass:"iconfont icon-gou-copy",duration:1e3})}t.loading=!1}).catch(function(t){console.log(t)})):this.$toast("密码不能为空"):this.$toast("用户名不能为空")}},created:function(){}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"form"},[s("div",{staticClass:"tc"},[s("span",{staticClass:"way-icon"},[s("i",{staticClass:"iconfont icon-yonghu",attrs:{slot:"icon"},slot:"icon"})])]),t._v(" "),s("div",[s("mt-field",{attrs:{label:"用户名",placeholder:"请输入用户名/手机号/邮箱"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sumbit(e)}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("mt-field",{attrs:{label:"密码",placeholder:"请输入密码",type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sumbit(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("div",{staticClass:"btn-box"},[s("mt-button",{attrs:{type:"danger",size:"large"},nativeOn:{click:function(e){return t.sumbit(e)}}},[t.loading?s("mt-spinner",{staticClass:"btn-loading",attrs:{slot:"icon",type:3,size:15,color:"#fff"},slot:"icon"}):t._e(),t._v("\n                登 录\n            ")],1),t._v(" "),s("div",{staticClass:"flex-box",staticStyle:{"margin-top":"5px"}},[s("div",{staticClass:"f-sm flex-box c-2",on:{click:function(e){t.remember=!t.remember}}},[s("span",{staticClass:"input-checkbox",class:{"checkbox-checked":t.remember}}),t._v("记住密码,一周内免登陆")]),t._v(" "),s("p",{staticClass:"tr f-sm"},[s("router-link",{attrs:{to:"/findpwd"}},[t._v("忘记密码?")])],1)])],1)])])},staticRenderFns:[]};var a=s("VU/8")(i,o,!1,function(t){s("YcrI")},"data-v-a18f9c64",null);e.default=a.exports}});