webpackJsonp([90],{"4Ngg":function(t,e){},iy0Y:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),n={name:"agentInvite",data:function(){return{active:"1",type:2,setRebate:{ssc:"",ks:"",syxw:"",pk10:"",pc28:""}}},computed:{title:function(){return this.$route.meta.title},contentH:function(){return this.$store.state.clientHeight-40},userRebate:function(){return this.$store.state.userRebate},lotteryList:function(){return this.$store.state.lotteryShow}},methods:{reset:function(){this.setRebate.ssc="",this.setRebate.ks="",this.setRebate.syxw="",this.setRebate.pk10="",this.setRebate.pc28=""},change:function(t,e,i){Number(e)>Number(i)?this.setRebate[t]=i:this.setRebate[t]=this.$base.formateSmallNumber(e,1)},goBack:function(){this.$router.isBack=!0,this.$router.push({path:this.$route.query.redirect?this.$route.query.redirect:window.history.go(-1)})},addInviteCode:function(){var t=this;for(var e in this.lotteryList)if(!this.setRebate[this.lotteryList[e].type])return void this.$messagebox("提示","请输入正确的"+this.lotteryList[e].label+"返点值");this.$axios.post("/web/agent/add_invite",{type:this.type,rebate:a()(this.setRebate)}).then(function(e){e.data.err||t.$messagebox.confirm("",{message:"生成邀请码成功！",title:"提示",confirmButtonText:"查看邀请码",cancelButtonText:"继续添加"}).then(function(e){t.$router.push({path:"/agent/inviteCode"})}).catch(function(e){t.reset()})})}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("header",{staticClass:"mint-header"},[i("div",{staticClass:"mint-header-button is-left",on:{click:t.goBack}},[t._m(0)]),t._v(" "),i("h1",{staticClass:"mint-header-title"},[i("ul",{staticClass:"top-tab cf"},[i("li",{staticClass:"active"},[t._v("下级开户")]),t._v(" "),i("router-link",{attrs:{to:"/agent/inviteCode?redirect="+this.$route.query.redirect,tag:"li"}},[t._v("邀请码")])],1)]),t._v(" "),i("div",{staticClass:"mint-header-button is-right"})]),t._v(" "),i("div",{staticClass:"contentH",style:{height:t.contentH+"px"}},[i("div",{staticClass:"card mt invite-head"},[i("div",{staticClass:"flex-box invite-item"},[i("div",{staticClass:"label"},[t._v("开户类型")]),t._v(" "),i("div",{staticClass:"flex-box invite-radio",on:{click:function(e){t.type=2}}},[i("span",{staticClass:"mint-radio"},[i("input",{staticClass:"mint-radio-input",attrs:{type:"radio"},domProps:{checked:2==t.type?"checked":""}}),t._v(" "),i("span",{staticClass:"mint-radio-core"})]),t._v(" "),i("span",{staticClass:"mint-radio-label"},[t._v("代理类型")])]),t._v(" "),i("div",{staticClass:"flex-box invite-radio",on:{click:function(e){t.type=1}}},[i("span",{staticClass:"mint-radio"},[i("input",{staticClass:"mint-radio-input",attrs:{type:"radio"},domProps:{checked:1==t.type?"checked":""}}),t._v(" "),i("span",{staticClass:"mint-radio-core"})]),t._v(" "),i("span",{staticClass:"mint-radio-label"},[t._v("玩家类型")])])]),t._v(" "),i("div",{staticClass:"invite-item"},[t._v("\n                请先为下级设置返点，"),i("router-link",{attrs:{to:"/agent/rebateOdds"}},[t._v("点击查看返点赔率表 ")])],1)]),t._v(" "),i("div",{staticClass:"invite-rebate-set card mt input-auto"},[t._l(t.lotteryList,function(e,s){return[i("mt-field",{key:s,attrs:{label:e.label,placeholder:"自身返点"+t.userRebate[e.type]+",可设置返点0.0-"+t.userRebate[e.type],type:"number",attr:{step:.1,min:0,max:t.userRebate[e.type]}},on:{change:function(i){return t.change(e.type,t.setRebate[e.type],t.userRebate[e.type])}},model:{value:t.setRebate[e.type],callback:function(i){t.$set(t.setRebate,e.type,i)},expression:"setRebate[item.type]"}})]})],2),t._v(" "),i("div",{staticClass:"btn-box"},[i("mt-button",{attrs:{size:"large",type:"danger"},on:{click:t.addInviteCode}},[t._v("生成邀请码")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"mint-button mint-button--default mint-button--normal"},[e("span",{staticClass:"mint-button-icon"},[e("i",{staticClass:"mintui mintui-back"})])])}]};var o=i("VU/8")(n,r,!1,function(t){i("4Ngg")},"data-v-25ab4b8d",null);e.default=o.exports}});