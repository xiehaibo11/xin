webpackJsonp([65],{EAct:function(t,s){},lRl3:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("mvHQ"),n=i.n(e),a={name:"optimalBonus",components:{inputNumber:i("XYHu").a},data:function(){return{agreeVisible:!1,min:JSON.parse(sessionStorage.getItem("jczq_gg_type")).money,money:JSON.parse(sessionStorage.getItem("jczq_gg_type")).money,selected:"1",multiple:1,type:JSON.parse(sessionStorage.getItem("jczq_gg_type")).type||[],betMap:{269:"非让球",354:"主让球",270:"总进球",271:"比分",272:"半全场"},splitMatchArr:[],splitBetList:[]}},computed:{contentH:function(){return this.$store.state.clientHeight-173},lotteryUnit:function(){return this.$store.state.setting.lottery_unit},title:function(){return this.$route.meta.title},plan:function(){return this.$store.state.jczq.plan},tempMatchData:function(){return this.$store.state.jczq.tempMatchData},notes:function(){var t=0;for(var s in this.splitBetList)t+=Number(this.splitBetList[s].notes);return t},minGain:function(){return this.$bet.accMul(Number(this.$bet.getMaxMin(this.gainArr,"min")),this.multiple,3)||0},maxGain:function(){var t=0;for(var s in this.gainArr)t=this.$bet.accAdd(t,Number(this.gainArr[s]),3);return this.$bet.accMul(t,this.multiple,3)},listShowGain:function(){var t=this;return function(s,i){return t.$bet.accMul(Number(s),Number(i),3)}},gainArr:function(){var t=[];for(var s in this.splitBetList){var i=Number(this.splitBetList[s].gain),e=Number(this.splitBetList[s].notes),n=this.$bet.accMul(i,e,3);t.push(n)}return t},noteArr:function(){var t=[];for(var s in this.splitBetList){var i=Number(this.splitBetList[s].notes);t.push(i)}return t},plArr:function(){var t=[];for(var s in this.splitBetList){var i=Number(this.splitBetList[s].gain);t.push(i)}return t},lessTmoney:function(){var t=[];for(var s in this.splitBetList){var i=Number(this.splitBetList[s].gain),e=Number(this.splitBetList[s].notes),n=this.$bet.accMul(i,e,3);n<this.money+2&&t.push(n)}return t},maxNoteGain:function(){var t=[];for(var s in this.splitBetList){var i=Number(this.splitBetList[s].notes),e=Number(this.splitBetList[s].gain),n=this.$bet.accMul(e,i,3),a=this.$bet.getMaxMin(this.noteArr,"max");i==a&&1!==a&&t.push(n)}return t}},watch:{money:function(t){console.log(t),t%2!=0&&(this.money=this.money+1),this.resetBetList();for(var s=this.min;s<this.money;s+=2)this.changeNotes("up")}},methods:{back:function(){this.$router.goBack(-1)},playMap:function(t){var s={0:"主负",1:"平",3:"主胜"};return s.hasOwnProperty(t)?s[t]:t},getMatchArr:function(){var t=[];for(var s in this.plan){var i=[];for(var e in this.plan[s])for(var n in this.plan[s][e])i.push(s+"#"+e+"#"+n+"#"+this.plan[s][e][n]);t.push(i)}var a=[];for(var r in this.type){var l=new Array(this.type[r]),o=[],c=[];for(var h in this.$bet.plzh(l,t,[0,1,2,3,4,5,6,7,8],o,0),o){var u=this.$bet.serialArray(o[h]);for(var v in u)c.push(u[v])}for(var p in c)a.push(c[p])}this.$set(this,"splitMatchArr",a)},getMatchList:function(){console.time(),this.getMatchArr();var t=[];for(var s in this.splitMatchArr){var i={},e=this.splitMatchArr[s].split("&");for(var n in i.type_text=e.length+"串1",i.type=e.length+"_1",i.plan=this.splitMatchArr[s],i.zuhe=[],e){var a=e[n].split("#"),r={};r.homename=this.tempMatchData[a[0]].homename,r.playname=this.betMap[a[1]],r.playsign=270==a[1]?a[2]+"球":this.playMap(a[2]),r.pl=a[3],i.zuhe.push(r)}var l=1;for(var o in i.zuhe)l=this.$bet.accMul(Number(l),Number(i.zuhe[o].pl));i.gain=this.$bet.accMul(l,2,3),i.notes=1,t.push(i)}this.$set(this,"splitBetList",t),console.timeEnd()},changeNotes:function(t){var s=0,i="";for(var e in 2==this.selected&&(i=this.$bet.getMaxMin(this.plArr,"min")),3==this.selected&&(i=this.$bet.getMaxMin(this.plArr,"max")),this.splitBetList){var n=Number(this.splitBetList[e].notes),a=Number(this.splitBetList[e].gain),r=this.$bet.accMul(a,n,3);if("up"==t)if(1==this.selected){if(r==this.minGain)return void(this.splitBetList[e].notes+=1)}else if(this.lessTmoney.length>0){if(r==this.minGain)return void(this.splitBetList[e].notes+=1)}else if(a==i)return void(this.splitBetList[e].notes+=1);if("down"==t){if(this.min==this.money)return void this.$toast("最少投"+this.min/2+"注");if(1==this.selected){if(r==this.$bet.getMaxMin(this.maxNoteGain,"max"))return void(this.splitBetList[e].notes-=1)}else if(a!==i&&this.$bet.accMul(a,n-1,3)>=this.money-2&&this.splitBetList[e].notes>1)return this.splitBetList[e].notes-=1,void(s+=1)}}if(!s)for(var l in this.splitBetList){if(Number(this.splitBetList[l].gain)==i&&1!==this.splitBetList[l].notes)return void(this.splitBetList[l].notes-=1)}},resetBetList:function(){for(var t in this.splitBetList)this.splitBetList[t].notes=1},handleType:function(){this.resetBetList();for(var t=this.min;t<this.money;t+=2)this.changeNotes("up")},submitOrder:function(){this.$axios.post("/web/ssc/betting",{plan:n()(this.splitBetList),multiple:this.multiple}).then(function(t){var s=t.data;console.log(s)})},change:function(t){console.log(t),t=t?parseInt(t):1,this.money=2*this.notes}},created:function(){var t=this;this.$nextTick(function(){t.getMatchList()})}},r={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"optimal-bonus"},[i("mt-header",{attrs:{title:t.title}},[i("mt-button",{attrs:{slot:"left",icon:"back"},nativeOn:{click:function(s){return t.back(s)}},slot:"left"}),t._v(" "),i("mt-button",{attrs:{slot:"right"},on:{click:function(s){t.agreeVisible=!0}},slot:"right"},[t._v("说明")])],1),t._v(" "),i("div",{staticClass:"bonus-head tc"},[i("em",{staticClass:"f-sm"},[t._v("计划购买：")]),t._v(" "),i("input-number",{attrs:{min:t.min,step:2,size:"small"},on:{"handle-up":function(s){return t.changeNotes("up")},"handle-down":function(s){return t.changeNotes("down")}},model:{value:t.money,callback:function(s){t.money=s},expression:"money"}}),t._v(" "),i("em",{staticClass:"f-sm"},[t._v(t._s(t.lotteryUnit))])],1),t._v(" "),i("div",{staticClass:"bonus-cont contentH",style:{height:t.contentH+"px"}},[i("mt-navbar",{nativeOn:{click:function(s){return t.handleType(s)}},model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}},[i("mt-tab-item",{attrs:{id:"1"}},[t._v("平均优化")]),t._v(" "),i("mt-tab-item",{attrs:{id:"2"}},[t._v("博热优化")]),t._v(" "),i("mt-tab-item",{attrs:{id:"3"}},[t._v("博冷优化")])],1),t._v(" "),i("div",{staticClass:"card bonus-gounp"},[i("table",{staticClass:"table-bonus-list",attrs:{cellspacing:"0",cellpadding:"0",border:"0",width:"100%"}},[t._m(0),t._v(" "),t._l(t.splitBetList,function(s,e){return i("tr",[i("td",{attrs:{align:"center"}},[t._v(t._s(s.type_text))]),t._v(" "),i("td",t._l(s.zuhe,function(s){return i("div",{staticClass:"flex-box grounp-item"},[i("span",{staticClass:"flex tl"},[t._v(t._s(s.homename))]),t._v(" "),i("span",[t._v(t._s(s.playsign)+"("+t._s(s.pl)+")")])])}),0),t._v(" "),i("td",{attrs:{align:"center"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:s.notes,expression:"item.notes"}],staticClass:"money-input",attrs:{type:"tel",onkeyup:"if(this.value.length==1){this.value=this.value.replace(/\\D/g,'1')}else{this.value=this.value.replace(/\\D/g,'1')}",onafterpaste:"if(this.value.length==1){this.value=this.value.replace(/\\D/g,'1')}else{this.value=this.value.replace(/\\D/g,'1')}"},domProps:{value:s.notes},on:{input:function(i){i.target.composing||t.$set(s,"notes",i.target.value)}}})]),t._v(" "),i("td",{class:{red:t.listShowGain(s.gain,s.notes)>=t.money},attrs:{align:"center"}},[t._v(t._s(t.listShowGain(s.gain,s.notes)))])])})],2)])],1),t._v(" "),i("div",{staticClass:"bet-multiple-set tc"},[i("em",{staticClass:"f-sm"},[t._v("投")]),t._v(" "),i("input-number",{attrs:{min:1,step:1,size:"small"},model:{value:t.multiple,callback:function(s){t.multiple=s},expression:"multiple"}}),t._v(" "),i("em",{staticClass:"f-sm"},[t._v("倍")])],1),t._v(" "),i("div",{staticClass:"bet-submit flex-box"},[i("div",{staticClass:"acount-award flex tr"},[i("p",{staticClass:"f-sm"},[t._v(t._s(t.notes)+"注 "),i("b",{staticClass:"red"},[t._v(t._s(2*t.notes*t.multiple))]),t._v(t._s(t.lotteryUnit))]),t._v(" "),i("p",{staticClass:"c-3 f-mini"},[t._v("预计奖金"),i("em",{class:{red:t.maxGain>0}},[t.minGain!==t.maxGain?i("em",[t._v(t._s(t.minGain)+"~")]):t._e(),t._v(t._s(t.maxGain))]),t._v(t._s(t.lotteryUnit))])]),t._v(" "),i("button",{staticClass:"bet-btn btn-sure",on:{click:t.submitOrder}},[t._v("付款")])]),t._v(" "),i("mt-popup",{staticClass:"agree-poput",attrs:{position:"right"},model:{value:t.agreeVisible,callback:function(s){t.agreeVisible=s},expression:"agreeVisible"}},[i("div",{staticClass:"visible-cont"},[i("mt-header",{attrs:{title:"奖金优化帮助"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},nativeOn:{click:function(s){t.agreeVisible=!1}},slot:"left"},[t._v("关闭")])],1),t._v(" "),i("div",{staticClass:"service-cont",staticStyle:{"line-height":"1.7"}},[i("div",{staticClass:"help-jjyh-box"},[i("div",{staticClass:"itm-col"},[i("h3",{staticClass:"itm-hd"},[t._v("● 什么是奖金优化？")]),t._v(" "),i("div",{staticClass:"itm-bd"},[i("p",{staticClass:"mb10"},[t._v("\n                                奖金优化是本站开发的一种通过对方案注数进行调整，从而实现对方案金额及奖金进行优化的功能。用户可以根据自己的需要，灵活对自己的倍投复选方案进行注数调节，从而获得您满意的方案投注和方案回报。 ")])])]),t._v(" "),i("div",{staticClass:"itm-col mt"},[i("h3",{staticClass:"itm-hd"},[t._v("● 优化方式说明")]),t._v(" "),i("div",{staticClass:"itm-bd"},[i("p",{staticClass:"mb10"},[i("b",[t._v("平均优化：")]),t._v("即按照用户选择的一定金额，让方案中的所有单注奖金趋于平均，这样不管原始方案的哪个选项中出，最后都可以收获差不多的奖金。即使命中都是最低赔，奖金也会远大于本金，不会再出现中奖不盈利的尴尬。\n                            ")]),t._v(" "),i("p",{staticClass:"mb10"},[i("b",[t._v("博热优化：")]),t._v("即在其它单注奖金可以保本的前提下，将剩余注数全部分配到出现概率最高的单注上，即所有比赛一赔全出的单注上。既能保证命中其它热门注时无亏损，又可保证在搏冷门时，拿到最高价值的回报率。\n                            ")]),t._v(" "),i("p",{staticClass:"mb10"},[i("b",[t._v("博冷优化：")]),t._v("即在其它单注奖金可以保本的前提下，将剩余注数全部分配到回报最高的单注上，即所有比赛最高赔全出的单注上。投注的本金可以足够多得投注在热门的场次上，让命中热门场次收益最大化。\n                            ")])])])])])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("tr",[s("th",[this._v("过关")]),this._v(" "),s("th",[this._v("单注组合")]),this._v(" "),s("th",[this._v("注数")]),this._v(" "),s("th",[this._v("预测奖金")])])}]};var l=i("VU/8")(a,r,!1,function(t){i("EAct")},"data-v-5abba5ea",null);s.default=l.exports}});