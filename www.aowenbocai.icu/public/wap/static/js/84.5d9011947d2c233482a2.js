webpackJsonp([84],{BKJj:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{loading:!1,name:"",num:"",telYzm:"",emailYzm:"",changeWay:0}},components:{SafeCheck:s("V/qW").a},computed:{lockTel:function(){return 1!==this.$store.state.lockInfo.tel},lockEmail:function(){return 1!==this.$store.state.lockInfo.email},isYzm:function(){return!!Number(this.$store.state.setting.tel_checked)},isEmail:function(){return!!Number(this.$store.state.setting.email_checked)},isChose:function(){return!(!this.isYzm&&!this.isEmail)},trueState:function(){return 0!=this.$store.state.lockInfo.is_num},trueInfo:function(){return this.$store.state.lockInfo},isName:function(){return this.$store.state.lockInfo.is_name},isNum:function(){return this.$store.state.lockInfo.is_num}},methods:{checkTel:function(){var t=this;this.name||0!=this.isName?this.num?this.$base.testIdNum(this.num)?this.lockTel?this.changeWay=1:this.$messagebox.confirm("您还未绑定手机，立即去绑定?").then(function(){t.$router.push({path:"/setTel"})}).catch(function(t){}):this.$toast("请输入正确的身份证号"):this.$toast("身份证号码不能为空"):this.$toast("姓名不能为空")},checkEmail:function(){var t=this;this.name||0!=this.isName?this.num?this.$base.testIdNum(this.num)?this.lockEmail?this.changeWay=2:this.$messagebox.confirm("您还未绑定邮箱，立即去绑定?").then(function(){t.$router.push({path:"/setEmail"})}).catch(function(t){}):this.$toast("请输入正确的身份证号"):this.$toast("身份证号码不能为空"):this.$toast("姓名不能为空")},sumbit:function(){var t=this;if(this.name||0!=this.isName)if(this.num)if(this.$base.testIdNum(this.num))if(!this.isChose||this.changeWay)if(1!=this.changeWay||this.telYzm)if(2!=this.changeWay||this.emailYzm){this.loading=!0;var e=void 0;e=this.changeWay?1==this.changeWay?this.telYzm:this.emailYzm:"";var s={changeWay:this.changeWay,yzm:e,idnum:this.num};0==this.isName&&(s.idname=this.name),this.$axios.post("/web/user/trueName",s).then(function(e){var s=e.data;s.err||(t.$store.dispatch("getLockInfo"),setTimeout(function(){t.$router.goBack(-1)},1e3)),t.$toast({message:s.msg,duration:1e3}),t.loading=!1}).catch(function(t){console.log(t)})}else this.$toast("验证码不能为空");else this.$toast("验证码不能为空");else this.$toast("请选择验证方式");else this.$toast("请输入正确的身份证号");else this.$toast("身份证号码不能为空");else this.$toast("姓名不能为空")}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.trueState?s("div",[t._m(0),t._v(" "),s("div",[s("mt-field",{attrs:{label:"真实姓名",placeholder:"须与身份证保持一致",type:"text",disabled:""},model:{value:t.isName,callback:function(e){t.isName=e},expression:"isName"}}),t._v(" "),s("mt-field",{attrs:{label:"身份证号",placeholder:"仅支持大陆第二代身份证",type:"text",disabled:""},model:{value:t.isNum,callback:function(e){t.isNum=e},expression:"isNum"}})],1)]):s("div",{staticClass:"form"},[s("div",{staticClass:"tips f-mini",staticStyle:{"font-size":"12px"}},[t._v("温馨提示：实名信息是领取大奖的重要核对依据，请填写真实信息，填写后不可修改！")]),t._v(" "),s("div",{staticClass:"input-title"},[t._v("填写真实信息")]),t._v(" "),s("div",[0==t.isName?s("mt-field",{attrs:{label:"真实姓名",placeholder:"须与身份证保持一致",type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}):s("mt-field",{attrs:{label:"真实姓名",placeholder:"须与身份证保持一致",type:"text",disabled:""},model:{value:t.isName,callback:function(e){t.isName=e},expression:"isName"}}),t._v(" "),s("mt-field",{attrs:{label:"身份证号",placeholder:"仅支持大陆第二代身份证",type:"text"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),t._v(" "),[s("div",{staticClass:"relative"},[t.isChose?s("div",{staticClass:"input-title"},[t._v("安全验证")]):t._e(),t._v(" "),t.isChose&&0==t.changeWay?s("div",{},[t.isYzm?s("mt-cell",{attrs:{title:"验证已绑定手机",label:"已绑定手机且该手机能接收短信","is-link":""},nativeOn:{click:function(e){return t.checkTel(e)}}},[s("i",{staticClass:"iconfont icon-ai-bind-cel",attrs:{slot:"icon"},slot:"icon"})]):t._e(),t._v(" "),t.isEmail?s("mt-cell",{attrs:{title:"验证已绑定邮箱",label:"已绑定邮箱且该邮箱能接收邮件","is-link":""},nativeOn:{click:function(e){return t.checkEmail(e)}}},[s("i",{staticClass:"iconfont icon-mail",attrs:{slot:"icon"},slot:"icon"})]):t._e()],1):t._e(),t._v(" "),t.changeWay?s("a",{staticClass:"link f-sm change-way-link",staticStyle:{"text-decoration":"underline"},on:{click:function(e){t.changeWay=0}}},[t._v("更换验证方式")]):t._e(),t._v(" "),[s("safe-check",{directives:[{name:"show",rawName:"v-show",value:1==t.changeWay,expression:"changeWay == 1"}],attrs:{url:"/web/user/sendTrueMsg","check-way":1},model:{value:t.telYzm,callback:function(e){t.telYzm=e},expression:"telYzm"}})],t._v(" "),[s("safe-check",{directives:[{name:"show",rawName:"v-show",value:2==t.changeWay,expression:"changeWay == 2"}],attrs:{url:"/web/user/sendIdCardEmail","check-way":2},model:{value:t.emailYzm,callback:function(e){t.emailYzm=e},expression:"emailYzm"}})]],2)],t._v(" "),s("div",{staticClass:"btn-box"},[s("mt-button",{attrs:{type:"danger",size:"large"},nativeOn:{click:function(e){return t.sumbit(e)}}},[t.loading?s("mt-spinner",{staticClass:"btn-loading",attrs:{slot:"icon",type:3,size:15,color:"#fff"},slot:"icon"}):t._e(),t._v("\n                保 存\n            ")],1)],1)],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-title"},[this._v("您的实名认证信息如下"),e("em",{staticClass:"f-mini org"},[this._v("（如需重新认证，请联系客服）")])])}]};var n=s("VU/8")(i,a,!1,function(t){s("OepZ")},"data-v-2b870ade",null);e.default=n.exports},OepZ:function(t,e){}});