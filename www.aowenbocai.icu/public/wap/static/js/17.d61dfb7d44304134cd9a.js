webpackJsonp([17],{"6SEp":function(t,e){},WGSh:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("3IaI"),a=i("HnWP"),n=i("TrHE"),o={components:{SelectUnit:a.a,RebateRange:n.a},props:["type","gain","title","text","name","betModel","maxGain"],data:function(){return{ball:[{num:"大",selected:!1,gain:this.gain.toString().split(",")[0]},{num:"小",selected:!1,gain:this.gain.toString().split(",")[1]},{num:"单",selected:!1,gain:this.gain.toString().split(",")[2]},{num:"双",selected:!1,gain:this.gain.toString().split(",")[3]},{num:"大单",selected:!1,gain:this.gain.toString().split(",")[4]},{num:"小单",selected:!1,gain:this.gain.toString().split(",")[5]},{num:"大双",selected:!1,gain:this.gain.toString().split(",")[6]},{num:"小双",selected:!1,gain:this.gain.toString().split(",")[7]},{num:"极大",selected:!1,gain:this.gain.toString().split(",")[8]},{num:"极小",selected:!1,gain:this.gain.toString().split(",")[9]}],ball2:[{num:"红波",selected:!1,gain:this.gain.toString().split(",")[0]},{num:"绿波",selected:!1,gain:this.gain.toString().split(",")[1]},{num:"蓝波",selected:!1,gain:this.gain.toString().split(",")[2]}],ball3:[{num:"豹子",selected:!1}],betNum:[],betNum2:[],betNum3:[],betArr:[],betArr2:[],betArr3:[],gainArr:[],gainArr2:[]}},computed:{rebateIsOpen:function(){return 1==this.$store.state.setting.rebate_isOpen},isRebate:function(){return 0!=this.$store.state.lottery.userRebate},joinOpen:function(){return 1==this.$store.state.setting.join_isOpen},unitIsOpen:function(){return 1==this.$store.state.setting.unit_isOpen},minMoney:function(){return this.$store.state.setting.mode2_min_money},rebateVal:function(){return this.$store.getters.rebateVal},percent:function(){return this.$store.getters.maxRebate},label:function(){return this.$store.state.lottery.label},value:function(){return this.$store.state.lottery.value},scale:function(){return this.$store.getters.getScale},multiple:function(){return this.$store.state.lottery.multiple},totalMoney:function(){var t=2*this.$bet.accMul(this.notes,this.multiple);return this.$bet.accDiv(t,this.scale)||0},lotteryUnit:function(){return this.$store.state.setting.lottery_unit},badge:function(){return this.$store.state.lottery.betArr.length},notes:function(){return 1==this.type?this.betNum.length:2==this.type?this.betNum2.length:3==this.type?this.betNum3.length:0},divVal:function(){return 1==this.betModel?1:2},contentH:function(){var t=1==this.betModel&&this.unitIsOpen||this.rebateIsOpen&&this.isRebate?89:52;return this.$store.state.clientHeight-100-t}},methods:{handleGain:function(t){return this.rebateIsOpen?this.$bet.accDiv(this.$bet.accDiv(this.$bet.accMul(Number(t),Number(this.percent)),this.scale),this.divVal,5):this.$bet.accDiv(Number(t),this.divVal,5)},addBet:function(t,e){var i=[];1==this.type&&(i=this.betArr),2==this.type&&(i=this.betArr2),3==this.type&&(i=this.betArr3);var s={};s.num=t,2==this.betModel&&(s.money=this.minMoney),s.gain=2==this.betModel?this.$bet.accDiv(e,this.divVal,5):e,i.push(s)},doBet:function(t,e,i,s){var a;1==this.type&&((a=this.betNum.indexOf(t))>-1?(this.betNum.splice(a,1),this.betArr.splice(a,1),this.gainArr.splice(a,1)):(this.betNum.push(t),this.gainArr.push(i),this.addBet(t,i,s)),this.$emit("change-gain",this.gainArr.join(",")),this.ball[e].selected=!this.ball[e].selected);2==this.type&&((a=this.betNum2.indexOf(t))>-1?(this.betNum2.splice(a,1),this.betArr2.splice(a,1),this.gainArr2.splice(a,1)):(this.betNum2.push(t),this.gainArr2.push(i),this.addBet(t,i,s)),this.$emit("change-gain",this.gainArr2.join(",")),this.ball2[e].selected=!this.ball2[e].selected);3==this.type&&((a=this.betNum3.indexOf(t))>-1?(this.betNum3.splice(a,1),this.betArr3.splice(a,1)):(this.betNum3.push(t),this.addBet(t,i,s)),this.ball3[e].selected=!this.ball3[e].selected)},clear:function(){if(1==this.type)for(var t in this.betNum=[],this.betArr=[],this.gainArr=[],this.$emit("change-gain",""),this.ball)this.ball[t].selected=!1;if(2==this.type)for(var t in this.betNum2=[],this.betArr2=[],this.gainArr2=[],this.$emit("change-gain",""),this.ball2)this.ball2[t].selected=!1;if(3==this.type)for(var t in this.betNum3=[],this.betArr3=[],this.ball3)this.ball3[t].selected=!1},addBetBasket:function(){if(this.notes<1)this.$toast("每位至少选择1个号码！");else{var t=[];for(var e in 1==this.type&&(t=this.betArr),2==this.type&&(t=this.betArr2),3==this.type&&(t=this.betArr3),t){if(1==this.betModel)if(this.unitIsOpen){t[e].money=this.$bet.accMul(this.$bet.accDiv(2,this.scale),this.multiple),t[e].unit=this.label,t[e].unit_value=this.value,t[e].multiple=this.multiple;var i=void 0;i=1==this.type||2==this.type?this.rebateIsOpen?this.$bet.accDiv(this.$bet.accMul(this.$bet.accMul(t[e].gain,this.multiple),this.percent),this.scale,5):this.$bet.accDiv(this.$bet.accMul(t[e].gain,this.multiple),this.scale,5):this.$bet.accMul(this.gain,this.multiple,5),t[e].gain=i}else{t[e].money=2;var s=void 0;s=(1==this.type||2==this.type)&&this.rebateIsOpen?this.$bet.accMul(t[e].gain,this.percent,5):t[e].gain,t[e].gain=s}if(2==this.betModel){var a=void 0;a=(1==this.type||2==this.type)&&this.rebateIsOpen?this.$bet.accMul(t[e].gain,this.percent,5):t[e].gain,t[e].gain=a}t[e].notes=1,t[e].type_text=this.text,t[e].type=this.type,this.rebateIsOpen&&this.isRebate&&(t[e].rebate=this.rebateVal)}this.$store.commit("pushBetArr",t),this.clear()}},submitOrder:function(){this.badge<1&&this.notes<1?this.$messagebox({title:"提示",message:"至少选择1注投注号码！",confirmButtonText:"我知道了"}):(this.notes>0&&this.addBetBasket(),this.$router.push({path:"/betOrder",query:{cz:this.$route.path.replace("/",""),type:this.type,name:this.name,title:this.title,betModel:this.betModel}}))}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"bet-ball contentH",style:{height:t.contentH+"px"}},[i("div",{staticClass:"bet-tips f-mini c-3 bd-v"},[t._v("\n            玩法提示：每期开出3个号码作为开奖号码，3个号码之和即为特码。\n            "),1==t.type?[t._v("对特码的大（14-27）、小（0-13）、单、双、极大（22-27）、极小（0-5）形态进行投注，任选1个形态组成一注。\n                所选形态与开奖特码的形态相同，即为中奖，最高奖金"),i("em",{staticClass:"red"},[t._v(t._s(t.maxGain))]),t._v(t._s(t.lotteryUnit)+"，如开出小单（13）、大双（14 ）中奖后保本。\n            ")]:t._e(),t._v(" "),2==t.type?[t._v("对开奖特码的绿波（1、4、7、10、16、19、22、25），蓝波（2、5、8、11、17、20、23、26），红波（3、6、9、12、15、18、21、24）\n                的色波进行投注，任选1个色波组成一注。所选色波与开奖特码色波相同，即为中奖。如开出灰波（0、13、14、27）则投注任何色波均视为不中奖，最高奖金"),i("em",{staticClass:"red"},[t._v(t._s(t.maxGain))]),t._v(t._s(t.lotteryUnit)+"。\n            ")]:t._e(),t._v(" "),3==t.type?[t._v("\n                投注当期的3个开奖号为豹子号码，3个开奖号码为同一号码，即为中奖，奖金"),i("em",{staticClass:"red"},[t._v(t._s(t.gain))]),t._v(t._s(t.lotteryUnit)+"。\n            ")]:t._e()],2),t._v(" "),1==t.type?i("ul",{staticClass:"balls-box cf"},t._l(t.ball,function(e,s){return i("li",{key:s,class:{"ml-1":8==s}},[i("a",{staticClass:"balls",class:{selected:e.selected},on:{click:function(i){return t.doBet(e.num,s,e.gain)}}},[i("p",[i("em",{staticClass:"f-large"},[t._v(t._s(e.num))])]),t._v(" "),i("p",{staticClass:"gain f-mini"},[t._v("赔"+t._s(t.handleGain(e.gain)))])])])}),0):t._e(),t._v(" "),2==t.type?i("ul",{staticClass:"balls-box cf"},t._l(t.ball2,function(e,s){return i("li",{key:s,class:{ml:0==s}},[i("a",{staticClass:"balls",class:{selected:e.selected},on:{click:function(i){return t.doBet(e.num,s,e.gain)}}},[i("p",[i("em",{staticClass:"f-large"},[t._v(t._s(e.num))])]),t._v(" "),i("p",{staticClass:"gain f-mini"},[t._v("赔"+t._s(t.handleGain(e.gain)))])])])}),0):t._e(),t._v(" "),3==t.type?i("ul",{staticClass:"balls-box cf",staticStyle:{width:"25%"}},t._l(t.ball3,function(e,s){return i("li",{key:s,staticStyle:{width:"100%"}},[i("a",{staticClass:"balls",class:{selected:e.selected},on:{click:function(i){return t.doBet(e.num,s,t.gain)}}},[i("p",[i("em",{staticClass:"f-large"},[t._v(t._s(e.num))])]),t._v(" "),i("p",{staticClass:"gain f-mini"},[t._v("赔"+t._s(t.gain))])])])}),0):t._e()]),t._v(" "),i("div",{staticClass:"bet-foot"},[i("div",{staticClass:"gain-box f-sm border-top-1px"},[i("div",{staticClass:"flex-box ks-unit"},[i("div",{staticClass:"flex"},[1==t.betModel&&t.unitIsOpen?i("select-unit"):t._e()],1),t._v(" "),t.rebateIsOpen&&t.isRebate?i("div",{staticClass:"flex"},[i("rebate-range",{attrs:{gain:t.maxGain}})],1):t._e()])]),t._v(" "),i("div",{staticClass:"flex-box notes-box"},[i("div",{staticClass:"flex bet-detail"},[i("div",{staticClass:"cf"},[i("i",{staticClass:"iconfont icon-shanchu btn-icon-clear fl",on:{click:t.clear}}),t._v(" "),i("span",{staticClass:"fl f-sm"},[i("em",{staticClass:"total-money"},[t._v(t._s(t.notes))]),t._v("注\n                        "),1==t.betModel?[i("span",[i("em",{staticClass:"total-money"},[t._v(t._s(t.totalMoney))]),t._v(t._s(t.lotteryUnit))])]:t._e()],2)])]),t._v(" "),i("div",{staticClass:"tc bet-basket",staticStyle:{margin:"0 15px 0 5px"}},[i("button",{staticClass:"bet-btn btn-basket",on:{click:t.addBetBasket}},[t._v("+ 号码篮 "),i("mt-badge",{staticClass:"badge",attrs:{type:"error",size:"small"}},[t._v(t._s(t.badge))])],1)]),t._v(" "),i("button",{staticClass:"bet-btn btn-sure",on:{click:t.submitOrder}},[t._v("立即投注")])])])])},staticRenderFns:[]};var l=i("VU/8")(o,r,!1,function(t){i("pJAr")},"data-v-603778b0",null).exports,c=i("wv44"),h={name:"pc28",data:function(){return{show:!1,showMore:!1,selected:"",gain:"",type:"",title:"",isStop:!1,betModel:1,loading:!0,play:[],info:{},hhGain:"",sbGain:""}},components:{DownTime:s.a,PcBet:l,StopSaleTips:c.a},computed:{expectType:function(){return this.$store.state.lottery.expect_type},rebateIsOpen:function(){return 1==this.$store.state.setting.rebate_isOpen},scale:function(){return this.$store.getters.getScale},maxRebate:function(){return this.$store.getters.maxRebate},maxGain:function(){var t=[];1==this.type?t=this.hhGain?this.hhGain.split(","):this.gain.split(","):2==this.type?(console.log(this.sbGain),t=this.sbGain?this.sbGain.split(","):this.gain.split(",")):t=this.gain.split(",");var e=1==this.betModel?1:2,i=this.$bet.getMaxMin(t,"max");return this.rebateIsOpen?this.$bet.accDiv(this.$bet.accDiv(this.$bet.accMul(Number(i),Number(this.maxRebate)),Number(this.scale)),e,5):this.$bet.accDiv(i,e,5)},lotteryUnit:function(){return this.$store.state.setting.lottery_unit},name:function(){return this.$route.query.name},cz:function(){return this.$route.path.replace("/","")},text:function(){return{1:"混合",2:"色波",3:"豹子"}[this.type]},selctHeight:function(){return this.$store.state.clientHeight-40}},methods:{getHhGain:function(t){1==this.type&&(this.hhGain=t),2==this.type&&(this.sbGain=t)},chosePlay:function(t,e,i){this.selected=t,this.type=e,this.gain=i,this.show=!1},showPlayInfo:function(){this.showMore=!1,this.$router.push({path:"/playInfo",query:{cz:this.cz,name:this.name}})},toHistoryCode:function(){this.showMore=!1,this.$router.push({path:"/historyCode",query:{name:this.name,cz:this.cz,title:this.title,expectType:this.expectType}})},toPlayNews:function(){var t=this;this.$store.commit("setLoadStatus",!0),this.$axios.get("/index/news/getAppBetNew",{params:{name:this.name}}).then(function(e){var i=e.data;t.$store.commit("setLoadStatus",!1),t.showMore=!1,i.err?t.$toast("暂无相关玩法介绍!"):t.$router.push({path:"/news/detail",query:{cz:t.cz,id:i.data.id,navid:i.data.nav_id}})}).catch(function(t){var e=t.error;console.log(e)})},toTrade:function(){this.showMore=!1,this.$router.push({path:"/lottery/trade",query:{name:this.name,title:this.title,cz:this.cz,expectType:this.expectType}})},toRecord:function(){this.showMore=!1,this.$router.push({path:"/lotteryRecord",query:{name:this.name,cz:this.cz}})}},created:function(){var t=this;this.loading=!0,this.$axios("/index/Pc28/getLotteryInfo/name/"+this.name).then(function(e){var i=e.data;for(var s in t.$store.commit("setType",i.lottery.expect_type),t.$store.commit("setFirstIssue",i.firstIssue),t.$set(t,"info",i.info),t.$set(t,"betModel",i.mode),t.$store.commit("setBetData",i.info),t.$set(t,"play",i.play),t.$store.commit("setPlayInfo",i.play),t.$set(t,"title",i.title),t.$store.commit("setRecentOpen",i.ten),t.$store.commit("isGetNewCode",i.getnewcode),i.play)i.play[s].type==i.info.type&&t.$set(t,"selected",i.play[s].name);t.$set(t,"type",i.info.type),t.$set(t,"gain",i.info.gain),t.$store.commit("setAwardNumber",i.info.awardNumber.code),t.$store.commit("setRebateInfo",i),t.isStop=i.lottery.pause,t.loading=!1}),this.$store.commit("setKeepAlivePage","pc28")},beforeRouteLeave:function(t,e,i){"/betOrder"==t.path||"/playInfo"==t.path||"/historyCode"==t.path||"/news/detail"==t.path||"/lottery/trade"==t.path||"/lotteryRecord"==t.path?this.$store.commit("setKeepAlivePage","pc28"):(this.$store.commit("delKeepAlivePage","pc28"),this.$store.commit("clearDownTime"),this.$store.commit("clearBetData"),this.$store.commit("clearBetNum"),sessionStorage.removeItem("betinfo")),this.$store.commit("clearNewCode"),this.$store.commit("clearRandomNum"),i()}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lottery-bg"},[t.loading?i("div",{staticClass:"lottery-loading"},[i("mt-spinner",{attrs:{type:3}})],1):t._e(),t._v(" "),t.loading?t._e():i("div",{staticClass:"lottery-box"},[i("stop-sale-tips",{attrs:{"is-stop":t.isStop}}),t._v(" "),i("div",{staticClass:"head"},[i("mt-header",[i("mt-button",{attrs:{slot:"left",icon:"back"},nativeOn:{click:function(e){return t.$router.goBack(-1)}},slot:"left"}),t._v(" "),i("mt-button",{attrs:{slot:"right",icon:"more"},nativeOn:{click:function(e){t.showMore=!t.showMore}},slot:"right"})],1),t._v(" "),i("div",{staticClass:"select flex-box"},[i("span",{staticClass:"f-mini label"},[t._v("玩法")]),t._v(" "),i("span",{staticClass:"chose",on:{click:function(e){t.show=!t.show}}},[t._v(t._s(t.selected)+" "),i("i",{staticClass:"iconfont icon-jiantou yellow",class:t.show?"is-active":"no-active"})])]),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],staticClass:"layout",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.showMore=!1}}},[i("div",{staticClass:"head-list border-1px"},[i("ul",[i("li",{staticClass:"border-bottom-1px",on:{click:t.showPlayInfo}},[t._v("中奖说明")]),t._v(" "),i("li",{staticClass:"border-bottom-1px",on:{click:t.toPlayNews}},[t._v("玩法介绍")]),t._v(" "),i("li",{staticClass:"border-bottom-1px",on:{click:t.toHistoryCode}},[t._v("历史开奖")]),t._v(" "),i("li",{staticClass:"border-bottom-1px",on:{click:t.toTrade}},[t._v("走势图")]),t._v(" "),i("li",{staticClass:"border-bottom-1px",on:{click:t.toRecord}},[t._v("投注记录")])])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"layout z-2 contentH top-1-select",style:{height:t.selctHeight+"px"},on:{click:function(e){if(e.target!==e.currentTarget)return null;t.show=!1}}},[i("div",{staticClass:"select-grounp"},[i("ul",{staticClass:"clearfloat"},[t._l(t.play,function(e,s){return[i("li",{on:{click:function(i){return t.chosePlay(e.name,e.type,e.gain)}}},[i("a",{class:{active:t.type==e.type}},[t._v(t._s(e.name))])])]})],2)])])],1),t._v(" "),i("DownTime"),t._v(" "),i("div",{staticClass:"bet-cont"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"type == 1"}],staticClass:"bet-item"},[i("pc-bet",{attrs:{type:t.type,gain:t.play[0].gain,title:t.title,text:t.text,name:t.name,"max-gain":t.maxGain,"bet-model":t.betModel},on:{"change-gain":t.getHhGain}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"type == 2"}],staticClass:"bet-item"},[i("pc-bet",{attrs:{type:t.type,gain:t.play[1].gain,title:t.title,text:t.text,name:t.name,"max-gain":t.maxGain,"bet-model":t.betModel},on:{"change-gain":t.getHhGain}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3==t.type,expression:"type == 3"}],staticClass:"bet-item"},[i("pc-bet",{attrs:{type:t.type,gain:t.maxGain,title:t.title,text:t.text,name:t.name,"max-gain":t.maxGain,"bet-model":t.betModel},on:{"change-gain":t.getHhGain}})],1)])],1)])},staticRenderFns:[]};var p=i("VU/8")(h,u,!1,function(t){i("6SEp")},"data-v-3e1d81a2",null);e.default=p.exports},pJAr:function(t,e){}});